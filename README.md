# RMWiFiController

## 概要

まだ何も整理できていないのが恥ずかしいですが・・・

鉄道模型コントローラー基板とリモコン基板用のファームウェアです。

## 構成

コントローラー部と、リモコン部の２基板があります。

基本的に内部機能は同一なので、コードは共用してます。

### コントローラー基板

<img src="images/IMG_0044.JPG" width="50%" />

リモコンからのリモート制御用信号を、Wi-Fiモジュール（Arduino）で受けます。

PICマイコン（PIC16F1938。以下同）で、指定されたDuty比をもとにPWM信号を生成し、パワーMOSFETをドライブして駆動電圧を生成してます。

Duty比はリモコン基板でも、コントローラー基板上のつまみでも、どちらでも調整が可能です。

### リモコン基板

<img src="images/IMG_0045.JPG" width="50%" />

リモコン基板上のつまみで、Duty比を調整し、Wi-Fiモジュール（Arduino）からコントローラー基板へ送信します。

ただし、コントローラー基板と同じファームを使用しているので、ここでもPWM信号が生成され、その電圧でLEDを点灯させています（すなわちDuty比の大小でLEDが明るくなったり暗くなったりします）。
